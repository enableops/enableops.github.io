(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[671],{3249:function(t){t.exports={settingsUrl:"/v1/auth/settings",profileUrl:"/v1/users/me/profile",projectsUrl:"/v1/users/me/project_ids",logoutUrl:"/v1/auth/logout",baseUrl:"http://127.0.0.1:8000"},t.exports.baseUrl="https://api-dev.enableops.io"},377:function(t,e,n){"use strict";n.r(e),n.d(e,{contentTitle:function(){return L},default:function(){return I},frontMatter:function(){return T},metadata:function(){return M},statusUpdater:function(){return N},toc:function(){return P}});var o=n(7462),r=n(3366),s=n(7294),i=n(3905),a=n(5885),l=n(5068),c=n(8987),u=n(6447),p=n(5869),d=n(4098),g=n.n(d),h=n(3645),f=n.n(h),m=n(5058),k=n(4257),v=n(7813),S=n(1425),b=n(6514),y=n(8951),E=n(7645),C=n(4776),U=s.forwardRef((function(t,e){return s.createElement(C.Z,(0,o.Z)({direction:"up",ref:e},t))})),w=function(t){function e(e){return t.call(this,e)||this}return(0,l.Z)(e,t),e.prototype.render=function(){return s.createElement("div",null,s.createElement(v.Z,{open:this.props.open,TransitionComponent:U,keepMounted:!0,onClose:this.props.handleDialogClose,"aria-describedby":"alert-dialog-slide-description"},s.createElement(E.Z,null,"Access is only needed for enableOps init"),s.createElement(b.Z,null,s.createElement(y.Z,{id:"alert-dialog-slide-description"},"Let us help you setup environment by giving us an access to list of your projects.")),s.createElement(S.Z,null,s.createElement(k.Z,{onClick:this.props.handleDialogClose},"Disagree"),s.createElement(k.Z,{onClick:this.props.handleAgree},"Agree"))))},e}(s.Component),Z=function(t){function e(e){var n;return(n=t.call(this,e)||this).getSettings=function(){var t=n.props.settings.baseUrl+n.props.settings.settingsUrl;g()(t).then(n.handleErrors).then((function(t){return t.json()})).then((function(t){n.setState({authSettings:t})})).catch(console.log)},n.closeDialog=function(){n.setState({showingDialog:!1})},n.openDialog=function(){n.setState({showingDialog:!0})},n.onGoodGoogleResponse=function(t){n.closeDialog(),g()(n.state.authSettings.token_url,{method:"POST",credentials:"include",body:new URLSearchParams({code:t.code,redirect_uri:window.location.origin})}).then(n.handleErrors).then((function(t){return t.json()})).then((function(t){n.props.cookiesController.set("csfr_token",t.csrf_token,{path:"/",secure:!0,httpOnly:!1,sameSite:"strict"}),n.props.updateStatus();var e=n.props.settings.baseUrl+n.props.settings.profileUrl;g()(e,{method:"GET",credentials:"include",headers:{Authorization:"CSFR "+n.props.cookiesController.get("csfr_token")}})})).catch(console.log)},n.onBadGoogleResponse=function(t){n.closeDialog(),console.log(t.error)},n.handleOpen=function(t){return function(){t()}},n.renderButton=function(t){return s.createElement("div",null,s.createElement(c.Z,{color:"primary",variant:"contained",disableElevation:!0,onClick:n.openDialog,loading:t.disabled||n.state.loading,loadingPosition:"end",endIcon:s.createElement(m.Z,null)},"Sign in with google"),s.createElement(w,{open:n.state.showingDialog,handleDialogClose:n.closeDialog,handleAgree:n.handleOpen(t.onClick)}))},n.state={authSettings:null,showingDialog:!1,loading:!1},n}(0,l.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.getSettings()},n.handleErrors=function(t){if(!t.ok)throw Error(t.statusText);return t},n.googleLogin=function(){var t=this.state.authSettings;return s.createElement(f(),{buttonText:"Login",responseType:"code",render:this.renderButton,onSuccess:this.onGoodGoogleResponse,onFailure:this.onBadGoogleResponse,cookiePolicy:"single_host_origin",clientId:t.client_id,accessType:t.access_type,prompt:t.prompt,scope:t.scope})},n.render=function(){return s.createElement("div",null,this.state.authSettings?this.googleLogin(this.state.settigs):null)},e}(s.Component),D=n(9661),j=(0,p.ZP)("div")((function(t){var e=t.theme;return Object.assign({},e.typography.button,{backgroundColor:e.palette.background.paper,padding:e.spacing(1)})})),_=function(t){function e(e){var n;return(n=t.call(this,e)||this).logout=function(){var t=n.props.settings.baseUrl+n.props.settings.logoutUrl;fetch(t,{credentials:"include"}).then(n.handleErrors).then((function(){n.props.cookiesController.remove("csfr_token",{path:"/"}),n.props.updateStatus()})).catch(console.log)},n.fetchUserInfo=function(){var t=n.props.settings.baseUrl+n.props.settings.profileUrl;fetch(t,{credentials:"include",headers:{Authorization:"CSFR "+n.props.cookiesController.get("csfr_token")}}).then(n.handleErrors).then((function(t){return t.json()})).then((function(t){n.setState({profile:t})})).catch((function(t){console.log(t),n.logout()}))},n.state={profile:null},n}(0,l.Z)(e,t);var n=e.prototype;return n.handleErrors=function(t){if(!t.ok)throw Error(t.statusText);return t},n.componentDidMount=function(){this.fetchUserInfo()},n.render=function(){var t,e;return s.createElement(u.Z,{direction:"row",spacing:2},s.createElement(u.Z,{direction:"row"},this.state.profile?s.createElement(D.Z,{alt:null!=(t=this.state.profile.given_name)?t:"User",src:null!=(e=this.state.profile.picture)?e:""}):null,this.state.profile?s.createElement(j,null,this.state.profile.email):null),this.state.profile?s.createElement(k.Z,{onClick:this.logout,variant:"outlined"},"Log out"):s.createElement(c.Z,{loading:!0,variant:"text"},"Loading"))},e}(s.Component),O=(0,p.ZP)("div")((function(t){var e=t.theme;return Object.assign({},e.typography.button,{backgroundColor:e.palette.background.paper,padding:e.spacing(1)})})),G=function(t){function e(e){var n;return(n=t.call(this,e)||this).getNewStatus=function(t){},n.updateSigninStatus=function(){var t=n.cookies.get("csfr_token")?"success":"login";n.setState({signStatus:t}),n.statusUpdater.updateStatus(t)},n.statusUpdater=e.statusUpdater,n.cookies=n.statusUpdater.cookies,n.settings=n.statusUpdater.settings,n.statusUpdater.addCallback(n.getNewStatus),n.state={signStatus:""},n}(0,l.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.updateSigninStatus()},n.render=function(){var t=this;return s.createElement(u.Z,{direction:"row",spacing:2},s.createElement(O,null,"Sign in:"),function(){switch(t.state.signStatus){case"login":return s.createElement(Z,{cookiesController:t.cookies,updateStatus:t.updateSigninStatus,settings:t.settings});case"success":return s.createElement(_,{cookiesController:t.cookies,updateStatus:t.updateSigninStatus,settings:t.settings});default:return s.createElement(c.Z,{loading:!0,variant:"text"},"Loading")}}())},e}(s.Component),x=((0,p.ZP)("div")((function(t){var e=t.theme;return Object.assign({},e.typography.button,{backgroundColor:e.palette.background.paper,padding:e.spacing(1)})})),function(t){function e(e){var n;return(n=t.call(this,e)||this).getNewStatus=function(t){n.setState({signStatus:t})},n.statusUpdater=e.statusUpdater,n.cookies=n.statusUpdater.cookies,n.settings=n.statusUpdater.settings,n.statusUpdater.addCallback(n.getNewStatus),n.state={signStatus:null},n}return(0,l.Z)(e,t),e.prototype.render=function(){return"success"===this.state.signStatus?s.createElement("h1",null,"YYEEEAAAAAH"):s.createElement(c.Z,{loading:!0,variant:"text"},"Loading")},e}(s.Component)),A=["components"],T={sidebar_position:1,title:"Getting started"},L=void 0,M={unversionedId:"intro",id:"intro",title:"Getting started",description:"export const statusUpdater = new StatusUpdater();",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/enableops/enableops.github.io/gh-pages-dev/docs/intro",editUrl:"https://github.com/enableops/enableops.github.io/edit/main/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Getting started"},sidebar:"tutorialSidebar"},P=[{value:"\u26c5\ufe0f Check your Cloud project",id:"\ufe0f-check-your-cloud-project",children:[],level:2},{value:"\u26f3\ufe0f Sign in to enableOps",id:"\ufe0f-sign-in-to-enableops",children:[],level:2},{value:"\ud83c\udf96 Select project",id:"-select-project",children:[],level:2},{value:"\ud83e\uddec Configure enableOps",id:"-configure-enableops",children:[],level:2},{value:"\ud83d\ude80 Deploy your cluster",id:"-deploy-your-cluster",children:[],level:2}],N=new function(){var t=this;this.addCallback=function(e){t.handlers.push(e)},this.updateStatus=function(e){t.handlers.forEach((function(t){return t(e)}))},this.cookies=new a.Z,this.settings=n(3249),this.handlers=[]},R={toc:P,statusUpdater:N};function I(t){var e=t.components,n=(0,r.Z)(t,A);return(0,i.kt)("wrapper",(0,o.Z)({},R,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Let's start with ",(0,i.kt)("strong",{parentName:"p"},"enableOps in less than 5 minutes"),"."),(0,i.kt)("h2",{id:"\ufe0f-check-your-cloud-project"},"\u26c5\ufe0f Check your Cloud project"),(0,i.kt)("p",null,"Make sure you have Google Project Set up with billing info. If you still don't - ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.google.com/resource-manager/docs/creating-managing-projects"},"follow official guide"),"."),(0,i.kt)("h2",{id:"\ufe0f-sign-in-to-enableops"},"\u26f3\ufe0f Sign in to enableOps"),(0,i.kt)("p",null,"Get started by signing into our service. We will need your account to provide you with an access to cluster configuration. Also we need to make sure that you have an access to propper projects. "),(0,i.kt)(G,{statusUpdater:N,mdxType:"SigninStep"}),(0,i.kt)("h2",{id:"-select-project"},"\ud83c\udf96 Select project"),(0,i.kt)("p",null,"Select the project"),(0,i.kt)(x,{statusUpdater:N,mdxType:"SelectStep"}),(0,i.kt)("h2",{id:"-configure-enableops"},"\ud83e\uddec Configure enableOps"),(0,i.kt)("h2",{id:"-deploy-your-cluster"},"\ud83d\ude80 Deploy your cluster"),(0,i.kt)("p",null,"Open Google Cloud Shell at ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.google.com/shell"},"https://cloud.google.com/shell")," using account with email mentioned in the form."))}I.isMDXComponent=!0}}]);